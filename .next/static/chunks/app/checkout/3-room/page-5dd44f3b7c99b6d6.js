(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{9822:function(e,t,s){Promise.resolve().then(s.bind(s,8720))},8720:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(7437);s(2265);var n=s(3145),i=s(7169),o=s(3841),l=s(9376);let r=[{id:"1",name:"Room A1 - MoonLight",price:50,img:"/images/room1.jpg",available:!0,booked:!1},{id:"2",name:"Room A2 - MoonLight",price:0,img:"/images/room2.jpg",available:!0,booked:!1},{id:"3",name:"Room B1 - MoonLight",price:0,img:"/images/room3.jpg",available:!0,booked:!1},{id:"4",name:"Room B2 - MoonLight",price:0,img:"/images/room4.jpg",available:!0,booked:!1},{id:"5",name:"Room C1 - MoonLight",price:0,img:"/images/room5.jpg",available:!0,booked:!1},{id:"6",name:"Room C2 - MoonLight",price:0,img:"/images/room6.jpg",available:!0,booked:!1}];function d(){let{selectedPackage:e,people:t,arrivalDate:s,roomAssignments:d,setRoomAssignments:c}=(0,o.o)(),m=(0,l.useRouter)(),u=s?new Date(s):null,p=u?new Date(u):null;p&&p.setDate(p.getDate()+7);let g=Object.values(d).reduce((e,t)=>e+t,0),h=(e,s)=>{let a=d[e]||0,n={...d};1===s&&g<t&&a<2?n[e]=a+1:-1===s&&a>0&&(n[e]=a-1),c(n)};return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-12 min-h-screen max-w-7xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"w-full md:w-[70%] py-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Select your room type"}),(0,a.jsx)("div",{className:"text-gray-500 mb-8 text-base",children:"Price add-on per room for the duration"}),(0,a.jsx)("div",{className:"w-full mb-8",children:(0,a.jsxs)("div",{className:"rounded-full bg-yellow-300 px-6 py-2 text-lapoint-dark text-[12px] font-normal",style:{fontFamily:"Nunito, sans-serif",width:"100%",fontWeight:400},children:[(0,a.jsx)("span",{className:"font-bold",children:"10% discount"})," • For bookings with arrival dates until 11 Aug Including 4 day packages or multiple weeks. • Use code: ",(0,a.jsx)("span",{className:"font-bold",children:"TAGHAZOUT10"})]})}),(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>{let s=d[e.id]||0;return(0,a.jsxs)("div",{className:"bg-white border border-lapoint-border rounded-xl overflow-hidden flex flex-col relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full bg-lapoint-red text-white text-center py-1 text-[10px] font-semibold z-10 rounded-t-xl",children:"Room is not bookable for 1 person"}),(0,a.jsx)(n.default,{src:e.img,alt:e.name,width:600,height:400,quality:100,className:"w-full h-40 object-cover"}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-base mb-1",children:e.name}),(0,a.jsxs)("div",{className:"text-lapoint-red font-bold mb-2",children:["+ EUR ",e.price]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end mt-2 gap-2",children:[(0,a.jsx)("button",{type:"button",className:"w-8 h-8 rounded-full border border-lapoint-red text-lapoint-red flex items-center justify-center text-xl disabled:opacity-50","aria-label":"Decrease number of people",onClick:()=>h(e.id,-1),disabled:0===s,children:"–"}),(0,a.jsx)("span",{className:"w-8 text-center font-bold",children:s}),(0,a.jsx)("button",{type:"button",className:"w-8 h-8 rounded-full border border-lapoint-red text-lapoint-red flex items-center justify-center text-xl disabled:opacity-50","aria-label":"Increase number of people",onClick:()=>h(e.id,1),disabled:s>=2||g>=t,children:"+"})]})]})]},e.id)})})})]}),(0,a.jsx)("div",{className:"w-full md:w-[25%] flex-shrink-0 mt-8",children:(0,a.jsx)(i.Z,{buttonLabel:"ADD-ON SELECTION →",onButtonClick:()=>{m.push("/checkout/4-add-ons")}})})]})}},7169:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),n=s(2265),i=s(3841),o=s(9376);function l(e){let{buttonLabel:t="ROOM SELECTION →",onButtonClick:s}=e,{summary:l,selectedPackage:r,arrivalDate:d,selectedRoom:c,people:m,selectedAddOns:u,addOns:p,rooms:g,roomAssignments:h,addOnCounts:x}=(0,i.o)(),b=(0,o.usePathname)(),[f,j]=n.useState(!1),v="-";if(d&&r){let e=new Date(d),t=new Date(e);t.setDate(e.getDate()+7),v="1 week, ".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}let y=()=>b.includes("/checkout/1-package")?!!r:b.includes("/checkout/2-dates")?!!d:b.includes("/checkout/3-room")?Object.values(h).some(e=>e>0):!!b.includes("/checkout/4-add-ons")&&(u.length>0||Object.values(x).some(e=>e>0));return n.useEffect(()=>{j(y())},[b,r,d,h,u,x]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Trip summary"}),(0,a.jsxs)("div",{className:"bg-white border border-gray-300 rounded-2xl p-6 mb-8",children:[(0,a.jsx)("div",{className:"font-bold text-lg mb-4",children:"Your selections"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"font-semibold text-base mb-1",children:"Travellers & courses"}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:r?"".concat(m," x ").concat(r.name):"-"})})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"font-semibold text-base mb-1",children:"Dates"}),(0,a.jsx)("span",{children:v})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"font-semibold text-base mb-1",children:"Rooms"}),(0,a.jsx)("span",{children:h&&Object.values(h).some(e=>e>0)?Object.entries(h).filter(e=>{let[t,s]=e;return s>0}).map(e=>{let[t,s]=e,a=g.find(e=>e.id===t);return a?"".concat(s," x ").concat(a.name):null}).filter(Boolean).join(", "):"-"})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-base mb-1",children:"Add-on selection"}),u.length>0?(0,a.jsx)("div",{className:"space-y-1",children:u.map(e=>{let t=p.find(t=>t.id===e);if(!t)return null;if("per-person"===t.type){let s=x[e]||0;return 0===s?null:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:[s," x ",t.name]})},e)}return"per-booking"===t.type?(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:t.name})},e):null})}):(0,a.jsx)("span",{children:"-"})]})]}),!b.includes("/checkout/5-travellers")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("span",{className:"text-base font-medium",children:"Total amount to pay"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:["EUR ",l.total]})]}),(0,a.jsx)("button",{className:"w-full font-bold text-base py-3 rounded-xl mb-6 flex items-center justify-center gap-2 transition-colors ".concat(f?"bg-lapoint-red text-white":"bg-gray-300 text-gray-400 cursor-not-allowed"),onClick:s,disabled:!f,children:t})]}),!b.includes("/checkout/5-travellers")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{className:"mb-4"}),(0,a.jsxs)("div",{className:"flex gap-6 justify-center items-center mb-2",children:[(0,a.jsx)("img",{src:"/images/paypal.svg",alt:"PayPal",className:"h-10"}),(0,a.jsx)("img",{src:"/images/mastercard.svg",alt:"Mastercard",className:"h-10"}),(0,a.jsx)("img",{src:"/images/visa.svg",alt:"Visa",className:"h-10"})]})]})]})}},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3841:function(e,t,s){"use strict";s.d(t,{o:function(){return a}});let a=(0,s(9625).Ue)((e,t)=>({destinations:[{id:"1",name:"Bali"}],packages:[{id:"1",name:"Beginner Bliss",description:"Perfect for first-timers.",price:600,levels:["beginner"]},{id:"2",name:"Intermediate Escape",description:"For those ready to progress.",price:800,levels:["intermediate","advanced"]},{id:"3",name:"Advanced Adventure",description:"Chase the biggest waves.",price:1e3,levels:["advanced"]}],rooms:[{id:"1",name:"Room A1 - MoonLight",description:"Room A1 in MoonLight.",price:50,capacity:2,img:"/images/room1.jpg"},{id:"2",name:"Room A2 - MoonLight",description:"Room A2 in MoonLight.",price:0,capacity:2,img:"/images/room2.jpg"},{id:"3",name:"Room B1 - MoonLight",description:"Room B1 in MoonLight.",price:0,capacity:2,img:"/images/room3.jpg"},{id:"4",name:"Room B2 - MoonLight",description:"Room B2 in MoonLight.",price:0,capacity:2,img:"/images/room4.jpg"},{id:"5",name:"Room C1 - MoonLight",description:"Room C1 in MoonLight.",price:0,capacity:2,img:"/images/room5.jpg"},{id:"6",name:"Room C2 - MoonLight",description:"Room C2 in MoonLight.",price:0,capacity:2,img:"/images/room6.jpg"}],addOns:[{id:"1",name:"Transfer 1 person 1 way from DPS airport",price:22,type:"per-person",img:"/images/IM.jpg",description:"Transfer from DPS airport to camp. Price per person. View more."},{id:"2",name:"Cancellation Insurance",price:15,type:"per-booking",img:"/images/IM.jpg",description:"Cancellation insurance covers your booking. Terms & Conditions."}],selectedPackage:null,surfLevel:"",setSurfLevel:t=>e({surfLevel:t}),setPackage:t=>e(e=>({selectedPackage:e.packages.find(e=>e.id===t)||null})),arrivalDate:"",setArrivalDate:t=>e({arrivalDate:t}),selectedRoom:null,setRoom:t=>e(e=>({selectedRoom:e.rooms.find(e=>e.id===t)||null})),people:1,setPeople:t=>e({people:t}),travellers:[{name:""}],setTraveller:(t,s)=>e(e=>{let a=[...e.travellers];return a[t]=s,{travellers:a}}),selectedAddOns:[],toggleAddOn:t=>e(e=>({selectedAddOns:e.selectedAddOns.includes(t)?e.selectedAddOns.filter(e=>e!==t):[...e.selectedAddOns,t]})),insurance:!1,setInsurance:t=>e({insurance:t}),paymentType:"deposit",setPaymentType:t=>e({paymentType:t}),forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0},reset:()=>e({selectedPackage:null,surfLevel:"",arrivalDate:"",selectedRoom:null,people:1,travellers:[{name:""}],selectedAddOns:[],insurance:!1,paymentType:"deposit",forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0}}),duration:"1w",setDuration:t=>e({duration:t}),roomAssignments:{},setRoomAssignments:t=>e({roomAssignments:t}),addOnCounts:{},setAddOnCount:(t,s)=>e(e=>{let a={...e.addOnCounts,[t]:s},n=e.selectedAddOns;return 0===s?n=n.filter(e=>e!==t):n.includes(t)||(n=[...n,t]),{addOnCounts:a,selectedAddOns:n}}),clearRoomData:()=>e({selectedRoom:null,roomAssignments:{}}),clearAddOnData:()=>e({selectedAddOns:[],addOnCounts:{}}),clearTravellerData:()=>e({travellers:[{name:""}]}),clearDateData:()=>e({arrivalDate:""})}));a.subscribe(e=>{let t=e.selectedPackage,s=e.selectedRoom,n=0;t&&(n+=t.price*e.people),s&&(n+=s.price*e.people),n+=e.addOns.reduce((t,s)=>{if("per-person"===s.type){let a=e.addOnCounts[s.id]||0;return t+s.price*a}return"per-booking"===s.type&&e.selectedAddOns.includes(s.id)?t+s.price:t},0);let i=e.insurance?Math.round(.15*n):0,o=n+i,l=!1;if(e.arrivalDate){let t=new Date(e.arrivalDate),s=new Date;(t.getTime()-s.getTime())/864e5<=35&&(l=!0)}let{summary:r,forceFullPayment:d,paymentType:c}=e;(r.subtotal!==n||r.insurance!==i||r.total!==o||d!==l||c!==(l?"full":e.paymentType))&&a.setState({summary:{subtotal:n,insurance:i,total:o},forceFullPayment:l,paymentType:l?"full":e.paymentType})})}},function(e){e.O(0,[182,971,117,744],function(){return e(e.s=9822)}),_N_E=e.O()}]);