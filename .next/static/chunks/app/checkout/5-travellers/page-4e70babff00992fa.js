(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{3321:function(e,a,n){Promise.resolve().then(n.bind(n,8874))},8874:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return h}});var t=n(7437),s=n(2265),r=n(9376),i=n(3841),l=n(7169);let o=Array.from({length:100},(e,a)=>new Date().getFullYear()-a),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=Array.from({length:31},(e,a)=>a+1),u=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],m=["Beginner","Intermediate","Advanced"],p=["Male","Female","Other"];function h(){let{people:e,summary:a}=(0,i.o)(),n=(0,r.useRouter)(),[h,g]=(0,s.useState)(!1),[b,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(""),[v,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(()=>Array.from({length:e},()=>({firstName:"",lastName:"",email:"",year:"",month:"",day:"",country:"",mobile:"",surfLevel:"",gender:""})));s.useEffect(()=>{w(a=>a.length===e?a:a.length<e?[...a,...Array.from({length:e-a.length},()=>({firstName:"",lastName:"",email:"",year:"",month:"",day:"",country:"",mobile:"",surfLevel:"",gender:""}))]:a.slice(0,e))},[e]);let S=N.every(e=>e.firstName&&e.lastName&&e.email&&e.year&&e.month&&e.day&&e.country&&e.mobile&&e.surfLevel&&e.gender),C=(e,a,n)=>{w(t=>t.map((t,s)=>s===e?{...t,[a]:n}:t))},A=()=>{n.push("/checkout/6-payment")};return(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-12 min-h-screen max-w-7xl mx-auto px-4",children:[(0,t.jsx)("div",{className:"w-full md:w-[70%] py-8",children:N.map((e,a)=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-300 p-8 mb-8",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-6",children:["Traveller # ",a+1," ",(0,t.jsx)("span",{className:"font-normal",children:"Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsx)("input",{className:"border rounded-lg px-4 py-3",placeholder:"First name",value:e.firstName,onChange:e=>C(a,"firstName",e.target.value)}),(0,t.jsx)("input",{className:"border rounded-lg px-4 py-3",placeholder:"Last name",value:e.lastName,onChange:e=>C(a,"lastName",e.target.value)}),(0,t.jsx)("input",{className:"border rounded-lg px-4 py-3",placeholder:"E-mail",value:e.email,onChange:e=>C(a,"email",e.target.value)}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{className:"border rounded-lg px-2 py-3 w-1/3",value:e.year,onChange:e=>C(a,"year",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Year"}),o.map(e=>(0,t.jsx)("option",{children:e},e))]}),(0,t.jsxs)("select",{className:"border rounded-lg px-2 py-3 w-1/3",value:e.month,onChange:e=>C(a,"month",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Month"}),c.map((e,a)=>(0,t.jsx)("option",{children:e},a))]}),(0,t.jsxs)("select",{className:"border rounded-lg px-2 py-3 w-1/3",value:e.day,onChange:e=>C(a,"day",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Day"}),d.map(e=>(0,t.jsx)("option",{children:e},e))]})]}),(0,t.jsxs)("select",{className:"border rounded-lg px-4 py-3",value:e.country,onChange:e=>C(a,"country",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Country"}),u.map(e=>(0,t.jsx)("option",{children:e},e))]}),(0,t.jsx)("input",{className:"border rounded-lg px-4 py-3",placeholder:"Mobile phone",value:e.mobile,onChange:e=>C(a,"mobile",e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:"Packages & Surf level"}),(0,t.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"We ask for surf level to be able to accommodate you in suitable courses (not for Essential package/Surf Guiding). This can always be changed during your stay."}),(0,t.jsxs)("select",{className:"border rounded-lg px-4 py-3 w-full",value:e.surfLevel,onChange:e=>C(a,"surfLevel",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select level"}),m.map(e=>(0,t.jsx)("option",{children:e},e))]})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:"Gender"}),(0,t.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"We request gender information to help us organize room arrangements with care and consideration for all guests to feel welcomed."}),(0,t.jsxs)("select",{className:"border rounded-lg px-4 py-3 w-full",value:e.gender,onChange:e=>C(a,"gender",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Gender"}),p.map(e=>(0,t.jsx)("option",{children:e},e))]})]})]},a))}),(0,t.jsxs)("div",{className:"w-full md:w-[25%] flex-shrink-0 mt-8",children:[(0,t.jsx)(l.Z,{}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6 mt-4",children:[(0,t.jsx)("span",{className:"text-base font-medium",children:"Total amount to pay"}),(0,t.jsxs)("span",{className:"text-lg font-bold",children:["EUR ",a.total]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"transition-all ".concat("rounded-2xl border border-lapoint-border bg-[#FFFCF5]"),children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between px-6 py-4 font-semibold text-lg focus:outline-none rounded-2xl",style:{fontFamily:"Nunito, sans-serif"},onClick:()=>g(e=>!e),children:["Add discount code",(0,t.jsx)("span",{className:"text-base text-gray-500",children:h?"▲":"▼"})]}),h&&(0,t.jsxs)("div",{className:"px-4 pb-4",children:[(0,t.jsx)("input",{className:"border border-lapoint-border rounded-xl px-4 py-3 w-full mb-4 bg-[#FFFCF5] mt-4",placeholder:"Enter discount code",value:f,onChange:e=>y(e.target.value)}),(0,t.jsxs)("button",{className:"w-full bg-lapoint-red text-white font-bold text-base py-3 rounded-full flex items-center justify-center gap-2",children:["ADD CODE ",(0,t.jsx)("span",{className:"text-2xl leading-none",children:"+"})]})]})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"transition-all ".concat("rounded-2xl border border-lapoint-border bg-[#FFFCF5]"),children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between px-6 py-4 font-semibold text-lg focus:outline-none rounded-2xl",style:{fontFamily:"Nunito, sans-serif"},onClick:()=>x(e=>!e),children:["Add giftcard",(0,t.jsx)("span",{className:"text-base text-gray-500",children:b?"▲":"▼"})]}),b&&(0,t.jsxs)("div",{className:"px-4 pb-4",children:[(0,t.jsx)("input",{className:"border border-lapoint-border rounded-xl px-4 py-3 w-full mb-4 bg-[#FFFCF5] mt-4",placeholder:"Enter giftcard code",value:v,onChange:e=>j(e.target.value)}),(0,t.jsxs)("button",{className:"w-full bg-lapoint-red text-white font-bold text-base py-3 rounded-full flex items-center justify-center gap-2",children:["ADD GIFTCARD ",(0,t.jsx)("span",{className:"text-2xl leading-none",children:"+"})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 mt-4",children:[(0,t.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5"}),(0,t.jsxs)("span",{className:"text-sm",children:["I hereby accept ",(0,t.jsx)("a",{href:"#",className:"underline text-lapoint-red",children:"Lapoints terms & conditions"})," and ",(0,t.jsx)("a",{href:"#",className:"underline text-lapoint-red",children:"privacy policy"}),"."]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5"}),(0,t.jsxs)("span",{className:"text-sm",children:["I want to join the ",(0,t.jsx)("a",{href:"#",className:"underline text-lapoint-red",children:"Lapoint Membership community"})," (it's free!) and receive specialized discounts and benefits via email. You can unsubscribe at any time."]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("button",{className:"w-full font-bold text-base py-3 rounded-xl mb-4 flex items-center justify-center gap-2 transition-colors bg-white text-lapoint-red border border-lapoint-red disabled:opacity-50 disabled:cursor-not-allowed",type:"button",disabled:!S,onClick:A,children:["PAY DEPOSIT EUR 300 ",(0,t.jsx)("span",{className:"text-2xl",children:"→"})]}),(0,t.jsxs)("button",{className:"w-full font-bold text-base py-3 rounded-xl mb-4 flex items-center justify-center gap-2 transition-colors bg-lapoint-red text-white disabled:opacity-50 disabled:cursor-not-allowed",type:"button",disabled:!S,onClick:A,children:["PAY IN FULL EUR ",a.total," ",(0,t.jsx)("span",{className:"text-2xl",children:"→"})]}),(0,t.jsx)("div",{className:"text-base text-lapoint-dark mb-6",children:"If you choose to pay the deposit you will have to pay the remaining EUR 844 no later than Aug 4, 2025."}),(0,t.jsx)("hr",{className:"my-4 border-gray-200"}),(0,t.jsxs)("div",{className:"flex gap-6 justify-center items-center mb-2",children:[(0,t.jsx)("img",{src:"/images/paypal.svg",alt:"PayPal",className:"h-10"}),(0,t.jsx)("img",{src:"/images/mastercard.svg",alt:"Mastercard",className:"h-10"}),(0,t.jsx)("img",{src:"/images/visa.svg",alt:"Visa",className:"h-10"})]}),(0,t.jsx)("hr",{className:"my-4 border-gray-200"})]})]})]})}},7169:function(e,a,n){"use strict";n.d(a,{Z:function(){return l}});var t=n(7437),s=n(2265),r=n(3841),i=n(9376);function l(e){let{buttonLabel:a="ROOM SELECTION →",onButtonClick:n}=e,{summary:l,selectedPackage:o,arrivalDate:c,selectedRoom:d,people:u,selectedAddOns:m,addOns:p,rooms:h,roomAssignments:g,addOnCounts:b}=(0,r.o)(),x=(0,i.usePathname)(),[f,y]=s.useState(!1),v="-";if(c&&o){let e=new Date(c),a=new Date(e);a.setDate(e.getDate()+7),v="1 week, ".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}let j=()=>x.includes("/checkout/1-package")?!!o:x.includes("/checkout/2-dates")?!!c:x.includes("/checkout/3-room")?Object.values(g).some(e=>e>0):!!x.includes("/checkout/4-add-ons")&&(m.length>0||Object.values(b).some(e=>e>0));return s.useEffect(()=>{y(j())},[x,o,c,g,m,b]),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Trip summary"}),(0,t.jsxs)("div",{className:"bg-white border border-gray-300 rounded-2xl p-6 mb-8",children:[(0,t.jsx)("div",{className:"font-bold text-lg mb-4",children:"Your selections"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"font-semibold text-base mb-1",children:"Travellers & courses"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:o?"".concat(u," x ").concat(o.name):"-"})})]}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"font-semibold text-base mb-1",children:"Dates"}),(0,t.jsx)("span",{children:v})]}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"font-semibold text-base mb-1",children:"Rooms"}),(0,t.jsx)("span",{children:g&&Object.values(g).some(e=>e>0)?Object.entries(g).filter(e=>{let[a,n]=e;return n>0}).map(e=>{let[a,n]=e,t=h.find(e=>e.id===a);return t?"".concat(n," x ").concat(t.name):null}).filter(Boolean).join(", "):"-"})]}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-base mb-1",children:"Add-on selection"}),m.length>0?(0,t.jsx)("div",{className:"space-y-1",children:m.map(e=>{let a=p.find(a=>a.id===e);if(!a)return null;if("per-person"===a.type){let n=b[e]||0;return 0===n?null:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:[n," x ",a.name]})},e)}return"per-booking"===a.type?(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:a.name})},e):null})}):(0,t.jsx)("span",{children:"-"})]})]}),!x.includes("/checkout/5-travellers")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("span",{className:"text-base font-medium",children:"Total amount to pay"}),(0,t.jsxs)("span",{className:"text-lg font-bold",children:["EUR ",l.total]})]}),(0,t.jsx)("button",{className:"w-full font-bold text-base py-3 rounded-xl mb-6 flex items-center justify-center gap-2 transition-colors ".concat(f?"bg-lapoint-red text-white":"bg-gray-300 text-gray-400 cursor-not-allowed"),onClick:n,disabled:!f,children:a})]}),!x.includes("/checkout/5-travellers")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"mb-4"}),(0,t.jsxs)("div",{className:"flex gap-6 justify-center items-center mb-2",children:[(0,t.jsx)("img",{src:"/images/paypal.svg",alt:"PayPal",className:"h-10"}),(0,t.jsx)("img",{src:"/images/mastercard.svg",alt:"Mastercard",className:"h-10"}),(0,t.jsx)("img",{src:"/images/visa.svg",alt:"Visa",className:"h-10"})]})]})]})}},9376:function(e,a,n){"use strict";var t=n(5475);n.o(t,"usePathname")&&n.d(a,{usePathname:function(){return t.usePathname}}),n.o(t,"useRouter")&&n.d(a,{useRouter:function(){return t.useRouter}})},4369:function(e,a,n){"use strict";var t=n(2265),s="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},r=t.useState,i=t.useEffect,l=t.useLayoutEffect,o=t.useDebugValue;function c(e){var a=e.getSnapshot;e=e.value;try{var n=a();return!s(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,a){return a()}:function(e,a){var n=a(),t=r({inst:{value:n,getSnapshot:a}}),s=t[0].inst,d=t[1];return l(function(){s.value=n,s.getSnapshot=a,c(s)&&d({inst:s})},[e,n,a]),i(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),o(n),n};a.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:d},2860:function(e,a,n){"use strict";var t=n(2265),s=n(2558),r="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},i=s.useSyncExternalStore,l=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;a.useSyncExternalStoreWithSelector=function(e,a,n,t,s){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var p=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=t(e),void 0!==s&&m.hasValue){var a=m.value;if(s(a,e))return l=a}return l=e}if(a=l,r(i,e))return a;var n=t(e);return void 0!==s&&s(a,n)?(i=e,a):(i=e,l=n)}var i,l,o=!1,c=void 0===n?null:n;return[function(){return e(a())},null===c?void 0:function(){return e(c())}]},[a,n,t,s]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),d(p),p}},2558:function(e,a,n){"use strict";e.exports=n(4369)},5195:function(e,a,n){"use strict";e.exports=n(2860)},3841:function(e,a,n){"use strict";n.d(a,{o:function(){return t}});let t=(0,n(9625).Ue)((e,a)=>({destinations:[{id:"1",name:"Bali"}],packages:[{id:"1",name:"Beginner Bliss",description:"Perfect for first-timers.",price:600,levels:["beginner"]},{id:"2",name:"Intermediate Escape",description:"For those ready to progress.",price:800,levels:["intermediate","advanced"]},{id:"3",name:"Advanced Adventure",description:"Chase the biggest waves.",price:1e3,levels:["advanced"]}],rooms:[{id:"1",name:"Room A1 - MoonLight",description:"Room A1 in MoonLight.",price:50,capacity:2,img:"/images/room1.jpg"},{id:"2",name:"Room A2 - MoonLight",description:"Room A2 in MoonLight.",price:0,capacity:2,img:"/images/room2.jpg"},{id:"3",name:"Room B1 - MoonLight",description:"Room B1 in MoonLight.",price:0,capacity:2,img:"/images/room3.jpg"},{id:"4",name:"Room B2 - MoonLight",description:"Room B2 in MoonLight.",price:0,capacity:2,img:"/images/room4.jpg"},{id:"5",name:"Room C1 - MoonLight",description:"Room C1 in MoonLight.",price:0,capacity:2,img:"/images/room5.jpg"},{id:"6",name:"Room C2 - MoonLight",description:"Room C2 in MoonLight.",price:0,capacity:2,img:"/images/room6.jpg"}],addOns:[{id:"1",name:"Transfer 1 person 1 way from DPS airport",price:22,type:"per-person",img:"/images/IM.jpg",description:"Transfer from DPS airport to camp. Price per person. View more."},{id:"2",name:"Cancellation Insurance",price:15,type:"per-booking",img:"/images/IM.jpg",description:"Cancellation insurance covers your booking. Terms & Conditions."}],selectedPackage:null,surfLevel:"",setSurfLevel:a=>e({surfLevel:a}),setPackage:a=>e(e=>({selectedPackage:e.packages.find(e=>e.id===a)||null})),arrivalDate:"",setArrivalDate:a=>e({arrivalDate:a}),selectedRoom:null,setRoom:a=>e(e=>({selectedRoom:e.rooms.find(e=>e.id===a)||null})),people:1,setPeople:a=>e({people:a}),travellers:[{name:""}],setTraveller:(a,n)=>e(e=>{let t=[...e.travellers];return t[a]=n,{travellers:t}}),selectedAddOns:[],toggleAddOn:a=>e(e=>({selectedAddOns:e.selectedAddOns.includes(a)?e.selectedAddOns.filter(e=>e!==a):[...e.selectedAddOns,a]})),insurance:!1,setInsurance:a=>e({insurance:a}),paymentType:"deposit",setPaymentType:a=>e({paymentType:a}),forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0},reset:()=>e({selectedPackage:null,surfLevel:"",arrivalDate:"",selectedRoom:null,people:1,travellers:[{name:""}],selectedAddOns:[],insurance:!1,paymentType:"deposit",forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0}}),duration:"1w",setDuration:a=>e({duration:a}),roomAssignments:{},setRoomAssignments:a=>e({roomAssignments:a}),addOnCounts:{},setAddOnCount:(a,n)=>e(e=>{let t={...e.addOnCounts,[a]:n},s=e.selectedAddOns;return 0===n?s=s.filter(e=>e!==a):s.includes(a)||(s=[...s,a]),{addOnCounts:t,selectedAddOns:s}}),clearRoomData:()=>e({selectedRoom:null,roomAssignments:{}}),clearAddOnData:()=>e({selectedAddOns:[],addOnCounts:{}}),clearTravellerData:()=>e({travellers:[{name:""}]}),clearDateData:()=>e({arrivalDate:""})}));t.subscribe(e=>{let a=e.selectedPackage,n=e.selectedRoom,s=0;a&&(s+=a.price*e.people),n&&(s+=n.price*e.people),s+=e.addOns.reduce((a,n)=>{if("per-person"===n.type){let t=e.addOnCounts[n.id]||0;return a+n.price*t}return"per-booking"===n.type&&e.selectedAddOns.includes(n.id)?a+n.price:a},0);let r=e.insurance?Math.round(.15*s):0,i=s+r,l=!1;if(e.arrivalDate){let a=new Date(e.arrivalDate),n=new Date;(a.getTime()-n.getTime())/864e5<=35&&(l=!0)}let{summary:o,forceFullPayment:c,paymentType:d}=e;(o.subtotal!==s||o.insurance!==r||o.total!==i||c!==l||d!==(l?"full":e.paymentType))&&t.setState({summary:{subtotal:s,insurance:r,total:i},forceFullPayment:l,paymentType:l?"full":e.paymentType})})},9625:function(e,a,n){"use strict";n.d(a,{Ue:function(){return m}});let t=e=>{let a;let n=new Set,t=(e,t)=>{let s="function"==typeof e?e(a):e;if(!Object.is(s,a)){let e=a;a=(null!=t?t:"object"!=typeof s||null===s)?s:Object.assign({},a,s),n.forEach(n=>n(a,e))}},s=()=>a,r={setState:t,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=a=e(t,s,r);return r},s=e=>e?t(e):t;var r=n(2265),i=n(5195);let{useDebugValue:l}=r,{useSyncExternalStoreWithSelector:o}=i,c=!1,d=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let a="function"==typeof e?s(e):e,n=(e,n)=>(function(e,a=d,n){n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let t=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,a,n);return l(t),t})(a,e,n);return Object.assign(n,a),n},m=e=>e?u(e):u}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3321)}),_N_E=e.O()}]);