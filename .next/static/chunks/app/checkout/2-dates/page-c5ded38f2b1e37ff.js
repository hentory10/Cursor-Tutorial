(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{9850:function(e,t,n){Promise.resolve().then(n.bind(n,9719))},9719:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=n(7437),s=n(2265),a=n(3841),i=n(9376),o=n(9909),r=n(7169);let c={"4d":4,"1w":7,"2w":14,"3w":21,"4w":28};function d(e,t){let n=new Date(e,t,1),l=[],s=[],a=new Date(n),i=0===a.getDay()?6:a.getDay()-1;a.setDate(1-i);for(let e=0;e<42;e++)s.push(new Date(a)),7===s.length&&(l.push(s),s=[]),a.setDate(a.getDate()+1);return l}function h(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function u(){let{arrivalDate:e,setArrivalDate:t,selectedPackage:n,people:u,duration:x}=(0,a.o)(),[m,g]=(0,s.useState)(""),f=(0,i.useRouter)(),[w,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b(!0)},[]);let p=c[x]||7,j=e?new Date(e):null,N=j?new Date(j):null;if(N){if(4===p)N.setDate(N.getDate()+4);else{N.setDate(N.getDate()+p);let e=N.getDay();1!==e&&N.setDate(N.getDate()+(8-e)%7)}}let v=new Date,[y,D]=(0,s.useState)(0),k=new Date(v.getFullYear(),v.getMonth()+y,1),L=new Date(v.getFullYear(),v.getMonth()+y+1,1),M=(0,s.useMemo)(()=>d(k.getFullYear(),k.getMonth()),[k]),S=(0,s.useMemo)(()=>d(L.getFullYear(),L.getMonth()),[L]),F=e=>{1===e.getDay()&&(t(e.toISOString().split("T")[0]),g(""))},C="Africa/Casablanca";return(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-12 min-h-screen max-w-7xl mx-auto px-4",children:[(0,l.jsxs)("div",{className:"w-full md:w-[70%] py-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Select dates"}),m&&(0,l.jsx)(o.Z,{message:m}),(0,l.jsx)("div",{className:"mb-8",children:w&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"text-lg font-bold",children:[4===p?"4 days":7===p?"1 week":"".concat(p," nights"),(0,l.jsx)("br",{}),j&&N?"".concat(j.toLocaleDateString("en-GB",{timeZone:C})," - ").concat(N.toLocaleDateString("en-GB",{timeZone:C})):""]})}),(0,l.jsx)("div",{className:"w-full mb-4",children:(0,l.jsxs)("div",{className:"rounded-full bg-yellow-300 px-6 py-2 text-lapoint-dark text-[12px]",style:{fontFamily:"Nunito, sans-serif",display:"inline-block",width:"100%",fontWeight:400},children:[(0,l.jsx)("span",{className:"font-bold",children:"10% discount"})," • For bookings with arrival dates until 11 Aug Including 4 day packages or multiple weeks. • Use code: ",(0,l.jsx)("span",{className:"font-bold",children:"TAGHAZOUT10"})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,l.jsx)("button",{onClick:()=>D(e=>e-1),"aria-label":"Previous month",className:"w-10 h-10 flex items-center justify-center rounded-full bg-lapoint-red text-white text-2xl shadow hover:scale-105 transition",style:{minWidth:40,minHeight:40},children:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M20 8L12 16L20 24",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,l.jsx)("div",{className:"flex-1 flex justify-between items-center gap-8",children:[k,L].map((e,t)=>(0,l.jsx)("div",{className:"flex-1 flex flex-col items-center",children:(0,l.jsx)("div",{className:"text-center font-bold mb-2 text-xl",style:{fontFamily:"Nunito, sans-serif"},children:e.toLocaleString("en-US",{month:"long",year:"numeric",timeZone:C})})},t))}),(0,l.jsx)("button",{onClick:()=>D(e=>e+1),"aria-label":"Next month",className:"w-10 h-10 flex items-center justify-center rounded-full bg-lapoint-red text-white text-2xl shadow hover:scale-105 transition",style:{minWidth:40,minHeight:40},children:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M12 8L20 16L12 24",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,l.jsx)("div",{className:"flex gap-8 w-full",children:[{matrix:M,month:k},{matrix:S,month:L}].map((e,t)=>{let{matrix:n,month:s}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg p-4 border flex-1",children:[(0,l.jsx)("div",{className:"grid grid-cols-7 text-center text-gray-400 mb-1 text-lg font-semibold",style:{fontFamily:"Nunito, sans-serif"},children:["Mo","Tu","We","Th","Fr","Sa","Su"].map((e,t)=>(0,l.jsx)("div",{children:e},t))}),n.map((e,t)=>(0,l.jsx)("div",{className:"grid grid-cols-7 text-center",children:e.map((e,t)=>{let n=e.getMonth()===s.getMonth(),a=1===e.getDay(),i=j&&h(e,j)&&a,o=N&&h(e,N)&&a,r=j&&N&&e>=j&&e<=N;return(0,l.jsx)("button",{type:"button",className:"w-9 h-9 rounded-full mx-auto my-1 text-sm font-semibold transition-all\n                                  ".concat(n?"":"opacity-30","\n                                  ").concat(r?"bg-lapoint-yellow text-lapoint-dark":"","\n                                  ").concat(i?"bg-lapoint-red text-white !border-lapoint-red !border-2":"","\n                                  ").concat(o?"border-2 border-lapoint-red":"","\n                                  ").concat(a&&n?"border border-lapoint-red":"","\n                                "),disabled:!n||!a,onClick:()=>F(e),"aria-label":e.toLocaleDateString("en-GB",{timeZone:C}),children:e.getDate()},t)})},t))]},t)})})]})]})})]}),(0,l.jsx)("div",{className:"w-full md:w-[25%] flex-shrink-0 mt-8",children:(0,l.jsx)(r.Z,{buttonLabel:"ROOM SELECTION →",onButtonClick:()=>{if(!e){g("Please select a start date.");return}f.push("/checkout/3-room")}})})]})}}},function(e){e.O(0,[53,971,117,744],function(){return e(e.s=9850)}),_N_E=e.O()}]);