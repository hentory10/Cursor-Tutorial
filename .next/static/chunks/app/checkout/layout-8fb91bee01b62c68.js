(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{6622:function(e,t,n){Promise.resolve().then(n.bind(n,7733))},7733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(1269);n(1082);var a=n(6372);let r=[{path:"/checkout/1-package",label:"Package"},{path:"/checkout/2-dates",label:"Date"},{path:"/checkout/3-room",label:"Room"},{path:"/checkout/4-add-ons",label:"Add ons"},{path:"/checkout/5-travellers",label:"Information"},{path:"/checkout/6-payment",label:"Book & Pay"}];function s(){let e=(0,a.usePathname)(),t=r.findIndex(t=>e.startsWith(t.path));return(0,o.jsxs)("div",{className:"w-full bg-lapoint-yellow pb-0",children:[(0,o.jsxs)("div",{className:"relative max-w-7xl mx-auto pt-8 pb-2 px-4",children:[(0,o.jsx)("div",{className:"flex justify-between items-end",style:{fontFamily:"Nunito, sans-serif",fontSize:14},children:r.map((e,n)=>(0,o.jsx)("div",{className:"flex-1 text-center",children:(0,o.jsx)("span",{className:"font-semibold ".concat(n<=t?"text-lapoint-red":"text-gray-400"," ").concat(n===t?"font-bold":""),style:{fontFamily:"Nunito, sans-serif",fontSize:14},children:e.label})},e.path))}),(0,o.jsx)("div",{className:"absolute left-0 right-0",style:{bottom:0,height:2},children:(0,o.jsx)("div",{className:"bg-lapoint-red rounded",style:{width:"calc(".concat((t+1)/r.length*100,"% )"),left:0,position:"absolute",height:2,transition:"width 0.3s cubic-bezier(.4,0,.2,1)"}})})]}),(0,o.jsx)("div",{className:"w-full max-w-7xl mx-auto bg-yellow-300 text-lapoint-dark text-center font-bold py-2 text-base border-t border-yellow-200 px-4",children:"Free rebooking up to 14 days prior to arrival."})]})}var i=n(6946);function l(e){let{children:t}=e,n=(0,a.useRouter)(),r=(0,a.usePathname)(),{clearRoomData:l,clearAddOnData:c,clearTravellerData:u,clearDateData:d}=(0,i.o)();return(0,o.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,o.jsxs)("div",{className:"w-full max-w-7xl mx-auto pt-4 pb-2",children:["/checkout/1-package"!==r&&(0,o.jsx)("button",{onClick:()=>{r.includes("/checkout/2-dates")?d():r.includes("/checkout/3-room")?l():r.includes("/checkout/4-add-ons")?c():r.includes("/checkout/5-travellers")&&u(),n.back()},"aria-label":"Go back",className:"p-2 mb-2",children:(0,o.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M28 20H12",stroke:"#FF3B30",strokeWidth:"3",strokeLinecap:"round"}),(0,o.jsx)("path",{d:"M18 14L12 20L18 26",stroke:"#FF3B30",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),(0,o.jsx)(s,{})]}),(0,o.jsx)("div",{className:"flex-1 p-4",children:t})]})}},6372:function(e,t,n){"use strict";var o=n(6362);n.o(o,"usePathname")&&n.d(t,{usePathname:function(){return o.usePathname}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},2863:function(e,t,n){"use strict";var o=n(1082),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=o.useState,s=o.useEffect,i=o.useLayoutEffect,l=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=r({inst:{value:n,getSnapshot:t}}),a=o[0].inst,u=o[1];return i(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},6229:function(e,t,n){"use strict";var o=n(1082),a=n(2074),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useSyncExternalStore,i=o.useRef,l=o.useEffect,c=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,a){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var m=s(e,(d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=o(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return i=t}return i=e}if(t=i,r(s,e))return t;var n=o(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,i=n)}var s,i,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,o,a]))[0],d[1]);return l(function(){p.hasValue=!0,p.value=m},[m]),u(m),m}},2074:function(e,t,n){"use strict";e.exports=n(2863)},7397:function(e,t,n){"use strict";e.exports=n(6229)},6946:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});let o=(0,n(359).Ue)((e,t)=>({destinations:[{id:"1",name:"Bali"}],packages:[{id:"1",name:"Beginner Bliss",description:"Perfect for first-timers.",price:600,levels:["beginner"]},{id:"2",name:"Intermediate Escape",description:"For those ready to progress.",price:800,levels:["intermediate","advanced"]},{id:"3",name:"Advanced Adventure",description:"Chase the biggest waves.",price:1e3,levels:["advanced"]}],rooms:[{id:"1",name:"Room A1 - MoonLight",description:"Room A1 in MoonLight.",price:50,capacity:2,img:"/images/room1.jpg"},{id:"2",name:"Room A2 - MoonLight",description:"Room A2 in MoonLight.",price:0,capacity:2,img:"/images/room2.jpg"},{id:"3",name:"Room B1 - MoonLight",description:"Room B1 in MoonLight.",price:0,capacity:2,img:"/images/room3.jpg"},{id:"4",name:"Room B2 - MoonLight",description:"Room B2 in MoonLight.",price:0,capacity:2,img:"/images/room4.jpg"},{id:"5",name:"Room C1 - MoonLight",description:"Room C1 in MoonLight.",price:0,capacity:2,img:"/images/room5.jpg"},{id:"6",name:"Room C2 - MoonLight",description:"Room C2 in MoonLight.",price:0,capacity:2,img:"/images/room6.jpg"}],addOns:[{id:"1",name:"Transfer 1 person 1 way from DPS airport",price:22,type:"per-person",img:"/images/IM.jpg",description:"Transfer from DPS airport to camp. Price per person. View more."},{id:"2",name:"Cancellation Insurance",price:15,type:"per-booking",img:"/images/IM.jpg",description:"Cancellation insurance covers your booking. Terms & Conditions."}],selectedPackage:null,surfLevel:"",setSurfLevel:t=>e({surfLevel:t}),setPackage:t=>e(e=>({selectedPackage:e.packages.find(e=>e.id===t)||null})),arrivalDate:"",setArrivalDate:t=>e({arrivalDate:t}),selectedRoom:null,setRoom:t=>e(e=>({selectedRoom:e.rooms.find(e=>e.id===t)||null})),people:1,setPeople:t=>e({people:t}),travellers:[{name:""}],setTraveller:(t,n)=>e(e=>{let o=[...e.travellers];return o[t]=n,{travellers:o}}),selectedAddOns:[],toggleAddOn:t=>e(e=>({selectedAddOns:e.selectedAddOns.includes(t)?e.selectedAddOns.filter(e=>e!==t):[...e.selectedAddOns,t]})),insurance:!1,setInsurance:t=>e({insurance:t}),paymentType:"deposit",setPaymentType:t=>e({paymentType:t}),forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0},reset:()=>e({selectedPackage:null,surfLevel:"",arrivalDate:"",selectedRoom:null,people:1,travellers:[{name:""}],selectedAddOns:[],insurance:!1,paymentType:"deposit",forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0}}),duration:"1w",setDuration:t=>e({duration:t}),roomAssignments:{},setRoomAssignments:t=>e({roomAssignments:t}),addOnCounts:{},setAddOnCount:(t,n)=>e(e=>{let o={...e.addOnCounts,[t]:n},a=e.selectedAddOns;return 0===n?a=a.filter(e=>e!==t):a.includes(t)||(a=[...a,t]),{addOnCounts:o,selectedAddOns:a}}),clearRoomData:()=>e({selectedRoom:null,roomAssignments:{}}),clearAddOnData:()=>e({selectedAddOns:[],addOnCounts:{}}),clearTravellerData:()=>e({travellers:[{name:""}]}),clearDateData:()=>e({arrivalDate:""})}));o.subscribe(e=>{let t=e.selectedPackage,n=e.selectedRoom,a=0;t&&(a+=t.price*e.people),n&&(a+=n.price*e.people),a+=e.addOns.reduce((t,n)=>{if("per-person"===n.type){let o=e.addOnCounts[n.id]||0;return t+n.price*o}return"per-booking"===n.type&&e.selectedAddOns.includes(n.id)?t+n.price:t},0);let r=e.insurance?Math.round(.15*a):0,s=a+r,i=!1;if(e.arrivalDate){let t=new Date(e.arrivalDate),n=new Date;(t.getTime()-n.getTime())/864e5<=35&&(i=!0)}let{summary:l,forceFullPayment:c,paymentType:u}=e;(l.subtotal!==a||l.insurance!==r||l.total!==s||c!==i||u!==(i?"full":e.paymentType))&&o.setState({summary:{subtotal:a,insurance:r,total:s},forceFullPayment:i,paymentType:i?"full":e.paymentType})})},359:function(e,t,n){"use strict";n.d(t,{Ue:function(){return p}});let o=e=>{let t;let n=new Set,o=(e,o)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=o?o:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,r={setState:o,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(o,a,r);return r},a=e=>e?o(e):o;var r=n(1082),s=n(7397);let{useDebugValue:i}=r,{useSyncExternalStoreWithSelector:l}=s,c=!1,u=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?a(e):e,n=(e,n)=>(function(e,t=u,n){n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let o=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return i(o),o})(t,e,n);return Object.assign(n,t),n},p=e=>e?d(e):d}},function(e){e.O(0,[253,468,744],function(){return e(e.s=6622)}),_N_E=e.O()}]);