(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{5632:function(e,s,t){Promise.resolve().then(t.bind(t,8415))},8415:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(1269),a=t(1082),i=t(6946),r=t(4410),l=t(6372),o=t(8859);function d(){let{addOns:e,selectedAddOns:s,toggleAddOn:t,people:d,addOnCounts:c,setAddOnCount:m}=(0,i.o)(),u=(0,l.useRouter)(),[p,x]=(0,a.useState)({}),h=(e,s)=>{let t=(c[e]||0)+s;t<0&&(t=0),t>d&&(t=d),m(e,t)},g=e=>{t(e)};return(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-12 min-h-screen max-w-7xl mx-auto px-4",children:[(0,n.jsxs)("div",{className:"w-full md:w-[70%] py-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Select add-ons"}),(0,n.jsx)("div",{className:"text-gray-500 mb-8 text-base",children:"Select add-ons"}),(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"text-gray-500 font-semibold",children:"Number of people"})]}),(0,n.jsx)("div",{className:"flex flex-col gap-6",children:e.map(e=>(0,n.jsxs)("div",{className:"flex bg-white border border-gray-300 rounded-2xl overflow-hidden shadow-sm min-h-[160px] items-stretch",children:[(0,n.jsx)("div",{className:"relative w-1/3 min-w-[180px]",children:(0,n.jsx)(o.default,{src:e.img,alt:e.name,fill:!0,className:"object-cover h-full w-full",sizes:"(max-width: 768px) 100vw, 33vw"})}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col justify-between p-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-bold text-lg mb-1",children:e.name}),(0,n.jsx)("div",{className:"text-lapoint-red font-bold mb-2",children:"per-person"===e.type?"+ ".concat(e.price," EUR per person"):"+ 15% per booking"}),(0,n.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"per-person"===e.type?(0,n.jsxs)("button",{className:"text-lapoint-red underline text-xs",onClick:()=>x(s=>({...s,[e.id]:!s[e.id]})),children:["View more ",p[e.id]?"▲":"▼"]}):(0,n.jsxs)("button",{className:"text-lapoint-red underline text-xs",onClick:()=>x(s=>({...s,[e.id]:!s[e.id]})),children:["Terms & Conditions ",p[e.id]?"▲":"▼"]})}),p[e.id]&&(0,n.jsx)("div",{className:"text-gray-500 text-xs mb-2 border-t pt-2",children:e.description})]}),(0,n.jsx)("div",{className:"flex items-center justify-end gap-2 mt-2",children:"per-person"===e.type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button",className:"w-8 h-8 rounded-full border border-lapoint-red text-lapoint-red flex items-center justify-center text-xl disabled:opacity-50 bg-white","aria-label":"Decrease number of people",onClick:()=>h(e.id,-1),disabled:!(c[e.id]>0),children:"–"}),(0,n.jsx)("span",{className:"w-8 text-center font-bold",children:c[e.id]||0}),(0,n.jsx)("button",{type:"button",className:"w-8 h-8 rounded-full border border-gray-300 text-gray-400 flex items-center justify-center text-xl disabled:opacity-50 bg-white","aria-label":"Increase number of people",onClick:()=>h(e.id,1),disabled:(c[e.id]||0)>=d,children:"+"})]}):(0,n.jsx)("button",{type:"button",className:"border rounded-lg px-4 py-2 font-semibold text-sm ".concat(s.includes(e.id)?"border-lapoint-red text-lapoint-red bg-red-50":"border-gray-400 text-gray-700 bg-white"),onClick:()=>g(e.id),children:s.includes(e.id)?"Remove for booking":"Add for booking"})})]})]},e.id))})]}),(0,n.jsx)("div",{className:"w-full md:w-[25%] flex-shrink-0 mt-8",children:(0,n.jsx)(r.Z,{buttonLabel:"TRAVELLER DETAILS →",onButtonClick:()=>{u.push("/checkout/5-travellers")}})})]})}},4410:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var n=t(1269),a=t(1082),i=t(6946),r=t(6372);function l(e){let{buttonLabel:s="ROOM SELECTION →",onButtonClick:t}=e,{summary:l,selectedPackage:o,arrivalDate:d,selectedRoom:c,people:m,selectedAddOns:u,addOns:p,rooms:x,roomAssignments:h,addOnCounts:g}=(0,i.o)(),b=(0,r.usePathname)(),[f,j]=a.useState(!1),v="-";if(d&&o){let e=new Date(d),s=new Date(e);s.setDate(e.getDate()+7),v="1 week, ".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}let y=()=>b.includes("/checkout/1-package")?!!o:b.includes("/checkout/2-dates")?!!d:b.includes("/checkout/3-room")?Object.values(h).some(e=>e>0):!!b.includes("/checkout/4-add-ons")&&(u.length>0||Object.values(g).some(e=>e>0));return a.useEffect(()=>{j(y())},[b,o,d,h,u,g]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Trip summary"}),(0,n.jsxs)("div",{className:"bg-white border border-gray-300 rounded-2xl p-6 mb-8",children:[(0,n.jsx)("div",{className:"font-bold text-lg mb-4",children:"Your selections"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"font-semibold text-base mb-1",children:"Travellers & courses"}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{children:o?"".concat(m," x ").concat(o.name):"-"})})]}),(0,n.jsx)("hr",{className:"my-2"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"font-semibold text-base mb-1",children:"Dates"}),(0,n.jsx)("span",{children:v})]}),(0,n.jsx)("hr",{className:"my-2"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"font-semibold text-base mb-1",children:"Rooms"}),(0,n.jsx)("span",{children:h&&Object.values(h).some(e=>e>0)?Object.entries(h).filter(e=>{let[s,t]=e;return t>0}).map(e=>{let[s,t]=e,n=x.find(e=>e.id===s);return n?"".concat(t," x ").concat(n.name):null}).filter(Boolean).join(", "):"-"})]}),(0,n.jsx)("hr",{className:"my-2"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold text-base mb-1",children:"Add-on selection"}),u.length>0?(0,n.jsx)("div",{className:"space-y-1",children:u.map(e=>{let s=p.find(s=>s.id===e);if(!s)return null;if("per-person"===s.type){let t=g[e]||0;return 0===t?null:(0,n.jsx)("div",{children:(0,n.jsxs)("span",{children:[t," x ",s.name]})},e)}return"per-booking"===s.type?(0,n.jsx)("div",{children:(0,n.jsx)("span",{children:s.name})},e):null})}):(0,n.jsx)("span",{children:"-"})]})]}),!b.includes("/checkout/5-travellers")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("span",{className:"text-base font-medium",children:"Total amount to pay"}),(0,n.jsxs)("span",{className:"text-lg font-bold",children:["EUR ",l.total]})]}),(0,n.jsx)("button",{className:"w-full font-bold text-base py-3 rounded-xl mb-6 flex items-center justify-center gap-2 transition-colors ".concat(f?"bg-lapoint-red text-white":"bg-gray-300 text-gray-400 cursor-not-allowed"),onClick:t,disabled:!f,children:s})]}),!b.includes("/checkout/5-travellers")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("hr",{className:"mb-4"}),(0,n.jsxs)("div",{className:"flex gap-6 justify-center items-center mb-2",children:[(0,n.jsx)("img",{src:"/images/paypal.svg",alt:"PayPal",className:"h-10"}),(0,n.jsx)("img",{src:"/images/mastercard.svg",alt:"Mastercard",className:"h-10"}),(0,n.jsx)("img",{src:"/images/visa.svg",alt:"Visa",className:"h-10"})]})]})]})}},6372:function(e,s,t){"use strict";var n=t(6362);t.o(n,"usePathname")&&t.d(s,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}})},6946:function(e,s,t){"use strict";t.d(s,{o:function(){return n}});let n=(0,t(359).Ue)((e,s)=>({destinations:[{id:"1",name:"Bali"}],packages:[{id:"1",name:"Beginner Bliss",description:"Perfect for first-timers.",price:600,levels:["beginner"]},{id:"2",name:"Intermediate Escape",description:"For those ready to progress.",price:800,levels:["intermediate","advanced"]},{id:"3",name:"Advanced Adventure",description:"Chase the biggest waves.",price:1e3,levels:["advanced"]}],rooms:[{id:"1",name:"Room A1 - MoonLight",description:"Room A1 in MoonLight.",price:50,capacity:2,img:"/images/room1.jpg"},{id:"2",name:"Room A2 - MoonLight",description:"Room A2 in MoonLight.",price:0,capacity:2,img:"/images/room2.jpg"},{id:"3",name:"Room B1 - MoonLight",description:"Room B1 in MoonLight.",price:0,capacity:2,img:"/images/room3.jpg"},{id:"4",name:"Room B2 - MoonLight",description:"Room B2 in MoonLight.",price:0,capacity:2,img:"/images/room4.jpg"},{id:"5",name:"Room C1 - MoonLight",description:"Room C1 in MoonLight.",price:0,capacity:2,img:"/images/room5.jpg"},{id:"6",name:"Room C2 - MoonLight",description:"Room C2 in MoonLight.",price:0,capacity:2,img:"/images/room6.jpg"}],addOns:[{id:"1",name:"Transfer 1 person 1 way from DPS airport",price:22,type:"per-person",img:"/images/IM.jpg",description:"Transfer from DPS airport to camp. Price per person. View more."},{id:"2",name:"Cancellation Insurance",price:15,type:"per-booking",img:"/images/IM.jpg",description:"Cancellation insurance covers your booking. Terms & Conditions."}],selectedPackage:null,surfLevel:"",setSurfLevel:s=>e({surfLevel:s}),setPackage:s=>e(e=>({selectedPackage:e.packages.find(e=>e.id===s)||null})),arrivalDate:"",setArrivalDate:s=>e({arrivalDate:s}),selectedRoom:null,setRoom:s=>e(e=>({selectedRoom:e.rooms.find(e=>e.id===s)||null})),people:1,setPeople:s=>e({people:s}),travellers:[{name:""}],setTraveller:(s,t)=>e(e=>{let n=[...e.travellers];return n[s]=t,{travellers:n}}),selectedAddOns:[],toggleAddOn:s=>e(e=>({selectedAddOns:e.selectedAddOns.includes(s)?e.selectedAddOns.filter(e=>e!==s):[...e.selectedAddOns,s]})),insurance:!1,setInsurance:s=>e({insurance:s}),paymentType:"deposit",setPaymentType:s=>e({paymentType:s}),forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0},reset:()=>e({selectedPackage:null,surfLevel:"",arrivalDate:"",selectedRoom:null,people:1,travellers:[{name:""}],selectedAddOns:[],insurance:!1,paymentType:"deposit",forceFullPayment:!1,summary:{subtotal:0,insurance:0,total:0}}),duration:"1w",setDuration:s=>e({duration:s}),roomAssignments:{},setRoomAssignments:s=>e({roomAssignments:s}),addOnCounts:{},setAddOnCount:(s,t)=>e(e=>{let n={...e.addOnCounts,[s]:t},a=e.selectedAddOns;return 0===t?a=a.filter(e=>e!==s):a.includes(s)||(a=[...a,s]),{addOnCounts:n,selectedAddOns:a}}),clearRoomData:()=>e({selectedRoom:null,roomAssignments:{}}),clearAddOnData:()=>e({selectedAddOns:[],addOnCounts:{}}),clearTravellerData:()=>e({travellers:[{name:""}]}),clearDateData:()=>e({arrivalDate:""})}));n.subscribe(e=>{let s=e.selectedPackage,t=e.selectedRoom,a=0;s&&(a+=s.price*e.people),t&&(a+=t.price*e.people),a+=e.addOns.reduce((s,t)=>{if("per-person"===t.type){let n=e.addOnCounts[t.id]||0;return s+t.price*n}return"per-booking"===t.type&&e.selectedAddOns.includes(t.id)?s+t.price:s},0);let i=e.insurance?Math.round(.15*a):0,r=a+i,l=!1;if(e.arrivalDate){let s=new Date(e.arrivalDate),t=new Date;(s.getTime()-t.getTime())/864e5<=35&&(l=!0)}let{summary:o,forceFullPayment:d,paymentType:c}=e;(o.subtotal!==a||o.insurance!==i||o.total!==r||d!==l||c!==(l?"full":e.paymentType))&&n.setState({summary:{subtotal:a,insurance:i,total:r},forceFullPayment:l,paymentType:l?"full":e.paymentType})})}},function(e){e.O(0,[247,253,468,744],function(){return e(e.s=5632)}),_N_E=e.O()}]);